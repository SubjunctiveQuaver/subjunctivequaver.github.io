<!DOCTYPE html><html lang="en-AU" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.3.1" /><meta property="og:title" content="An interactive visualisation of immersed surfaces on Desmos" /><meta property="og:locale" content="en_AU" /><meta name="description" content="Note: this article is currently a WIP." /><meta property="og:description" content="Note: this article is currently a WIP." /><link rel="canonical" href="https://subjunctivequaver.github.io//posts/desmos-3d-plotter/" /><meta property="og:url" content="https://subjunctivequaver.github.io//posts/desmos-3d-plotter/" /><meta property="og:site_name" content="Epic Maths Time" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-06-20T00:40:00+10:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="An interactive visualisation of immersed surfaces on Desmos" /><meta name="twitter:site" content="@SubjunctiveQuav" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2021-06-29T18:00:37+10:00","datePublished":"2021-06-20T00:40:00+10:00","description":"Note: this article is currently a WIP.","headline":"An interactive visualisation of immersed surfaces on Desmos","mainEntityOfPage":{"@type":"WebPage","@id":"https://subjunctivequaver.github.io//posts/desmos-3d-plotter/"},"url":"https://subjunctivequaver.github.io//posts/desmos-3d-plotter/"}</script><title>An interactive visualisation of immersed surfaces on Desmos | Epic Maths Time</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Epic Maths Time"><meta name="application-name" content="Epic Maths Time"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://raw.githubusercontent.com/SubjunctiveQuaver/subjunctivequaver.github.io/main/SubjunctiveQuaver.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Epic Maths Time</a></div><div class="site-subtitle font-italic">Lawrence's blog on epic mathematical tidbits!</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/SubjunctiveQuaver" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/SubjunctiveQuav" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['lawrence.d.chen','outlook.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <a href="https://www.linkedin.com/in/lawrencechen11/" aria-label="linkedin" class="order-7" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href="" aria-label="" class="order-8" target="_blank" rel="noopener"> <i class=""></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>An interactive visualisation of immersed surfaces on Desmos</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>An interactive visualisation of immersed surfaces on Desmos</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Lawrence Chen </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sun, Jun 20, 2021, 12:40 AM +1000" >Jun 20, 2021<i class="unloaded">2021-06-20T00:40:00+10:00</i> </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Tue, Jun 29, 2021, 6:00 PM +1000" >Jun 29, 2021<i class="unloaded">2021-06-29T18:00:37+10:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2500 words">13 min read</span></div></div><div class="post-content"><p>Note: this article is currently a WIP.</p><h2 id="some-examples-of-surface-visualisations">Some examples of surface visualisations</h2><p>Here are a couple of versions of the Desmos save file with different cool pre-loaded plots:</p><ul><li>The default: <a href="https://www.desmos.com/calculator/u5ma8mrq4e">a hemisphere (select the second plot for a full sphere)</a><li><a href="https://www.desmos.com/calculator/dqsysshxwj">A mobius band</a><li><a href="https://www.desmos.com/calculator/p3ztoufvpn">A heliocoid</a><li><a href="https://www.desmos.com/calculator/bdrerelimf">An immersed Klein bottle in \(\mathbb R^3\)</a> (thanks to cFOURbon for entering the formula)<li><a href="https://www.desmos.com/calculator/fguyjsvplw">A heart-shaped surface</a><li><a href="https://www.desmos.com/calculator/8fth0oldky">A shell</a> (thanks to Kevin D. for the help and idea)<li><a href="https://www.desmos.com/calculator/ng56wooahk">Give me my chemistry degree immediately?</a></ul><p><em>Note: The below was submitted as my essay for the final assignment in the unit MTH3110 - differential geometry, at Monash University, in Semester 1, 2021. I’ve chosen to upload it here for those who may have seen my Desmos surface visualisation, and are interested in how I derived it! However, it assumes familiarity, especially near the end, with differential-geometric quantities such as maps of surfaces and their derivatives, and tangent spaces.</em></p><h2 id="the-explanation-and-geometry-of-the-desmos-visualisation">The explanation and geometry of the Desmos visualisation</h2><p>Here is an <a href="https://www.desmos.com/calculator/u5ma8mrq4e">interactive visualisation of surfaces</a> on Desmos (a graphing website), made by me. It takes a (continuous) function \(f : U \to \mathbb R\), for some \(U \subseteq \mathbb R^2\), and plots a projection of the graph of \(f\) onto \(\mathbb R^2\) as a “wire-frame”; it can also take a parametrisation \(\sigma : U \to \mathbb R^3\) and plot a projection of its image in the plane.<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup> We discuss the algebra and geometry used in its construction, and some geometric properties of the projection map. Henceforth, let us assume that \(U\) is open, \(f\) is a smooth function, and that \(\sigma\) is a regular surface patch.</p><h3 id="projecting-down-to-a-plane">Projecting down to a plane</h3><p>There are many ways to project \(\mathbb R^3\), onto \(\mathbb R^2\). However, a way to choose a sensible, well-behaved projection is to choose a plane \(\Pi\) through the origin (a linear subspace of \(\mathbb R^3\)), and perform an orthogonal projection \(\pi'\). Such a plane can be uniquely determined by using <em>spherical coordinates</em>. Consider an “observer” at \(N \in S^2\), the unit sphere, and a standard map \(\tau : \mathbb R^2 \to S^2\) given by</p>\[\tau(u,v) = (\cos u\cos v,\cos u\sin v,\sin u);\]<p>here, \((u,v)\) respectively measure latitude and longitude.<sup id="fnref:2" role="doc-noteref"><a href="#fn:2" class="footnote" rel="footnote">2</a></sup> The unit vectors in \(T_0\mathbb R^3\) (denoting possible directions from the origin) are precisely points on \(S^2\). Thus, we may take \(\Pi\) as the orthogonal complement of the span of \(\{N\}\).</p><p>A fact from differential geometry is that \(T_N S^2 = \{v \in \mathbb R^3 : N \cdot v = 0\}\). If \(v \in \Pi\), then for any \(kN \in \operatorname{span}\{N\}\) (where \(k \in \mathbb R\)), \((kN) \cdot v = k(N \cdot v) = 0\). In particular, \(N \cdot v = 0\), so \(v \in T_NS^2\). Conversely, a vector \(v \in T_NS^2\) satisfies \((kN) \cdot v = k(N \cdot v) = 0\) for all \(k \in \mathbb R\), so \(v \in \Pi\). This means that \(\Pi = T_NS^2\), and \(N\) is normal to this tangent space.</p><p>Next, we consider the problem of projecting from \(\mathbb R^3\) into \(\Pi\) (and then into \(\mathbb R^2\)). Given an orthonormal basis \(b = \{b_1,b_2\}\) for \(\Pi\) that extends to a right-handed orthonormal basis \(b' = \{b_1,b_2,N\}\) of \(\mathbb R^3\), where \(N = b_1 \times b_2\), consider the orthogonal projection \(\pi' : \mathbb R^3 \to \Pi\). Since \(\ker\pi' = \Pi^\perp\) and \(\pi\vert_\Pi\) is the identity, it follows that \(\pi'(b_1) = b_1\), \(\pi'(b_2) = b_2\), and \(\pi'(N) = 0\). The map \(\pi'\) is linear, so its matrix with respect to the bases \(b',b\) is</p>\[\pi'_{b',b} = \begin{pmatrix} 1 &amp; 0 &amp; 0 \\ 0 &amp; 1 &amp; 0 \end{pmatrix}.\]<p>The geometry of this map is as follows: take a point \(p \in \mathbb R^3\). Then the coset \(p + \Pi^\perp = \{p + kN : k \in \mathbb R\}\), a line parallel to \(N\) (thus orthogonal to \(\Pi\)) passing through \(p\), is collapsed onto a point \(\pi'(p) \in \Pi\); distinct parallel lines are collapsed to distinct points. This is an orthographic projection, where the axes are <em>not foreshortened</em>, that is, no length distortion due to perspective (see Figure~\mathbb Ref{fig:cylinder_perspective}).\footnote{See explanation of perspective and <a href="https://drawpaintacademy.com/foreshortening/">foreshortening in art</a>.} Under this projection, we consider \(\mathbb R^3\) as the quotient \(\mathbb R^3/\Pi^\perp\), and cannot distinguish between points on the same line parallel to \(\Pi^\perp\); the map has rank \(2\) and nullity \(1\).</p><p>\begin{figure}[p!] \centering \includegraphics[width=0.75\textwidth]{cylinder<em>perspective.png} \caption{Plot of cylinder \(\sigma : (0,2\pi) \times (-4,4) \to S\), \(\sigma(u,v) = (v,\cos u,\sin v)\) with perspective \((\theta,\phi) = (0.1,-0.1)\), using the Desmos visualisation. Observe that there is no distortion due to perspective (i.e. _foreshortening</em>) in the negative \(x\)-direction.} \label{fig:cylinder_perspective} \end{figure}</p><p>Next, we consider the map that transforms points on \(\Pi\) into points in \(\mathbb R^2\). Given our basis \(b\) for \(\Pi\), there is a natural sense in which \(b_1\) can be thought of as pointing “right”, and \(b_2\) as pointing “up”. This is described by \(T : \Pi \to \mathbb R^2\), the linear isometry such that \(T(b_1) = e_1\) and \(T(b_2) = e_2\). Letting \(e' = \{e_1,e_2\} \subseteq \mathbb R^2\), \(T\) is simply the identity in coordinates \(b,e'\): \(T_{b,e'} = I_2\), the \(2 \times 2\) identity matrix.</p><p>Thus, our overall projection \(\pi : \mathbb R^3 \to \mathbb R^2\) in the direction of \(\Pi\) would be given by \(\pi = T \circ \pi'\), with matrix \(T_{b,e'} \pi'_{b',b}\). However, we wish to express the matrix for \(\pi\) with respect to the standard basis \(e = \{e_1,e_2,e_3\}\) for \(\mathbb R^3\). For this, we recall that the <em>change-of-basis matrix</em> from \(b'\) to \(e\) is given by</p>\[M_{b' \to e} = \begin{pmatrix} \vert &amp; \vert &amp; \vert \\ b_1 &amp; b_2 &amp; N \\ \vert &amp; \vert &amp; \vert \end{pmatrix}.\]<p>Since \(b'\) is an orthonormal set, it follows that \(M_{b' \to e} \in O(3)\), so \(M_{e \to b'} = (M_{b' \to e})^{-1} = (M_{b' \to e})^\top\). It follows that the matrix for \(\pi\) w.r.t. the bases \(e,e'\) of \(\mathbb R^3,\mathbb R^2\) respectively is</p>\[\pi_{e,e'} = T_{b,e'} \pi'_{b',b} M_{e \to b'} = \begin{pmatrix} 1 &amp; 0 \\ 0 &amp; 1 \end{pmatrix} \begin{pmatrix} 1 &amp; 0 &amp; 0 \\ 0 &amp; 1 &amp; 0 \end{pmatrix} \begin{pmatrix} \text{---} &amp; b_1 &amp; \text{---} \\ \text{---} &amp; b_2 &amp; \text{---} \\ \text{---} &amp; N &amp; \text{---} \end{pmatrix} = \begin{pmatrix} \text{---} &amp; b_1 &amp; \text{---} \\ \text{---} &amp; b_2 &amp; \text{---} \end{pmatrix} =: M.\]<p>Now, recall that there is a pair \((\theta,\phi)\) corresponding to \(N = \tau(\theta,\phi)\). For simplicity, we will assume that \(\theta \in (-\pi/2,\pi/2)\), so that a suitable restriction of \(\tau\) forms a regular chart for \(S^2\). We aim to find an orthonormal basis for \(\Pi\) by finding an orthonormal basis for \(T_NS^2\). Note that \(\{\tau_u,\tau_v\}\) forms a basis for \(T_NS^2\), where</p>\[\tau_u(\theta,\phi) = (-\sin\theta\cos\phi,-\sin\theta\sin\phi,\cos\theta)\]<p>and</p>\[\tau_v(\theta,\phi) = (-\cos\theta\sin\phi,\cos\theta\cos\phi,0).\]<p>It is easy to check that these are orthogonal, so an orthonormal basis \(\{b_1,b_2\}\) for \(\Pi\) is found by normalising these vectors, yielding</p>\[b_2 = (-\sin\theta\cos\phi,-\sin\theta\sin\phi,\cos\theta)\]<p>and</p>\[b_1 = (-\sin\phi,\cos\phi,0).\]<p>(It turns out that this also works when \(\theta \in \{\pm\pi/2\}\); these span the tangent planes \(T_{(0,0,\pm 1)}S^2 = \mathbb R^2 \times \{0\}\)!) Note that we needed to take \(b_1 = \tau_v/\lVert \tau_v\rVert\) and \(b_2 = \tau_u/\lVert \tau_u\rVert\), so that indeed \(b_1 \times b_2 = N = \tau(\theta,\phi)\).</p><p>In summary, for our perspective given by spherical coordinates \((\theta,\phi)\) (or equivalently \(N = \tau(\theta,\phi) \in S^2\)), the projection \(\pi : \mathbb R^3 \to \mathbb R^2\) is given by</p>\[\begin{equation*} \pi(x,y,z) = \underbrace{ \begin{pmatrix} -\sin\phi &amp; \cos\phi &amp; 0 \\ -\sin\theta\cos\phi &amp; -\sin\theta\sin\phi &amp; \cos\theta \end{pmatrix}}_{M = M(\theta,\phi)} \begin{pmatrix} x \\ y \\ z \end{pmatrix} = \begin{pmatrix} -x\sin\phi + y\cos\phi \\ -x\sin\theta\cos\phi - y\sin\theta\sin\phi + z\cos\theta \end{pmatrix}. \tag{*} \end{equation*}\]<h3 id="visualising-the-surface-in-desmos">Visualising the surface in Desmos</h3><p>If we wish to plot \(S\) as the graph of \(f\), take \(\sigma(u,v) = (u,v,f(u,v))\). Then it reduces to the problem of plotting the image of \(\sigma\), or at least its projection under \(\pi\). It would be useless (given limitations on Desmos) to present a filled-in outline—we would get a single splotch of colour (with jagged edges)! Instead, we use the idea that the domain \(U\) is an open subset of \(\mathbb R^2,\)\footnote{Desmos does not like strict inequalities, so they are often closed subsets instead, but we can ignore the boundary of \(U\).} and for fixed \((u,v) \in U\), we consider the curves \(x_u,y_v : I_u,J_v \to U\) in \(U\) (for suitable open intervals \(I_u,J_v\)), where \(x_u(t) = (u,t)\) and \(y_v(t) = (t,v)\), i.e. we fix the \(u\) or \(v\) coordinate, and let the other vary.</p><p>Consider a set of points \(\{(u_i,v_i)\}_i \subseteq U\), and the families of curves \(\{x_{u_i}\}_i,\{y_{v_i}\}_i\) so-defined. Then for each of the curves (generically called \(\alpha : I \to U\)), we plot the image of \(\gamma = \sigma \circ \alpha : I \to S\), a curve in \(S\), under the projection \(\pi\), yielding two families \(\{\pi \circ \sigma \circ x_{u_i}\}_i\) (fixing \((x =)\, u = u_i\), plotted in red) and \(\{\pi \circ \sigma \circ y_{v_i}\}_i\) (fixing \((y =)\, v = v_i\), plotted in blue) of curves in \(\mathbb R^2\), representing moving along \(S\) using \(\sigma\), with one input fixed. In the visualisation, we assume that \(U = (a_1,a_2) \times (b_1,b_2)\) is a box,\footnote{Technically \(U = [a_1,a_2] \times [b_1,b_2]\), so we have a surface with boundary… but we can ignore this, as mentioned earlier.} and take \(n_1,n_2\) curves of constant separation in \(U\) in each direction. This creates the desired projection of the “wire-frame” on \(S\), and varying \((\theta,\phi)\) allows us to visualise the plot of \(S\) from all angles, giving it a 3-dimensional effect.</p><h3 id="differential-geometry-of-the-projection-changing-perspective">Differential geometry of the projection: changing perspective</h3><p>For spherical coordinates \((\theta,\phi)\), let <em>principal latitude</em> denote \(\theta_0 \in [-\pi/2,\pi/2]\) such that there is \(\phi_0 \in \mathbb R\) with \(\tau(\theta,\phi) = \tau(\theta_0,\phi_0)\). We see that \(M(\theta,\phi)\) is a smooth function of \(\theta,\phi\), so the matrix (and projection) smoothly varies with \(\theta,\phi\):</p>\[M_\theta(\theta,\phi) = \begin{pmatrix} 0 &amp; 0 &amp; 0 \\ -\cos\theta\cos\phi &amp; -\cos\theta\sin\phi &amp; -\sin\theta \end{pmatrix}\]<p>and</p>\[\begin{equation*} M_\phi(\theta,\phi) = \begin{pmatrix} -\cos\phi &amp; -\sin\phi &amp; 0 \\ \sin\theta\sin\phi &amp; -\sin\theta\cos\phi &amp; 0 \end{pmatrix} \tag*{(from (*)).} \end{equation*}\]<p>Fixing a point \(p = (x,y,z) \in \mathbb R^3\), we can think of \(\pi\) as a function \(\mathbb R^2 \to \mathbb R^2\), where the inputs are spherical coordinates \((\theta,\phi)\); let us call this map \(\pi' : \mathbb R^2 \to \mathbb R^2\), \((\theta,\phi) \mapsto \pi(p) = M(\theta,\phi)p\). Then the directional derivatives of \(\pi'\) are given by \(D_{(\theta,\phi)}\pi' : T_{(\theta,\phi)}\mathbb R^2 \to T_{\pi'(\theta,\phi)}\mathbb R^2\), which is such that</p>\[(\lambda,\mu) \mapsto \underbrace{ \begin{pmatrix} \vert &amp; \vert \\ \pi'_\theta &amp; \pi'_\phi \\ \vert &amp; \vert \end{pmatrix}}_{D\pi'(\theta,\phi)} \begin{pmatrix} \lambda \\ \mu \end{pmatrix} = \begin{pmatrix} 0 &amp; -x\cos\phi - y\sin\phi \\ -x\cos\theta\cos\phi - y\cos\theta\sin\phi - z\sin\theta &amp; x\sin\theta\sin\phi - y\sin\theta\cos\phi \end{pmatrix} \begin{pmatrix} \lambda \\ \mu \end{pmatrix}.\]<p>So, if we change perspective from \((\theta,\phi)\) with velocity \((\lambda,\mu) \in T_{(\theta,\phi)}\mathbb R^2\) (i.e. increasing latitude by \(\lambda\) and longitude by \(\mu\)), the image of \(p\) in \(\mathbb R^2\) moves with velocity \(D_{(\theta,\phi)}\pi'(\lambda,\mu)\), given explicitly above. Note that</p>\[D_{(\theta,\phi)}\pi'(\lambda,\mu) = \lambda M_\theta(\theta,\phi)p + \mu M_\phi(\theta,\phi)p;\]<p>this relates the directional derivatives of \(\pi'\) to the partial derivatives of \(M\).</p><p>Let us consider what happens to \(\pi(p)\) when we fix longitude \(\phi\) and vary latitude \(\theta\). Taking \(\lambda = 1\) and \(\mu = 0\) reveals a directional derivative of</p>\[M_\theta(\theta,\phi)p = (0,-x\cos\theta\cos\phi - y\cos\theta\sin\phi - z\sin\theta)\]<p>in the \((1,0)\) direction. In particular, the \(x\)-coordinate of \(\pi(p)\) does not change when only \(\theta\) is changed, which makes sense since we view this as tilting the plane \(\Pi\) up or down. However, the \(y\)-coordinate changes at a rate precisely equal to \(-\tau(\theta,\phi) \cdot p = -N \cdot p = \tau(-\theta,\phi + \pi) \cdot p\) (since \(\tau\) gives points on \(S^2\)). For nonzero \(p\), this is zero precisely when \(p\), or equivalently \(p/\lVert p\rVert \in S^2\), is orthogonal to \(N \in S^2\), the unit normal vector to the plane of projection \(\Pi\). This holds when \(N \in T_{p/\lVert p\rVert}S^2\); if \(\tau(\mathbb R \times \{\phi\}) \subseteq T_{p/\lVert p\rVert}S^2\), then this occurs for every latitude \(\theta\), but otherwise, \(\tau(\mathbb R \times \{\phi\})\) is a circle on \(S^2\) and intersects \(T_{p/\lVert p\rVert}S^2\) for precisely one latitude \(\theta\) (modulo \(\pi\)). From this, we conclude that for principal latitudes \(\theta\), if \(p/\lVert p\rVert = \pm(N \times \tau(\theta + \pi/4,\phi))\), \(\pi(p)\) is always fixed when varying latitude \(\theta\) (the directional derivative is zero); otherwise, there is precisely one latitude \(\theta\) (or two, whence \(\theta = \pm\pi/2\)) for which \(\pi(p)\) has velocity zero.</p><p>The above observations agree with a direct calculation: the curve in \(\mathbb R^2\) that \(\pi(p)\) traces for fixed longitude \(\phi\) is</p>\[\beta_p : \mathbb R \to \mathbb R^2, \quad \beta_p(t) = (\underbrace{-x\sin\phi + y\cos\phi}_{\text{constant}},\underbrace{-x\sin t\cos\phi - y\sin t\sin\phi + z\cos t}_{\text{trigonometric with period}\ 2\pi}).\]<p>Now, let us consider what happens to \(\pi(p)\) when we fix latitude \(\theta\) and vary longitude \(\phi\). Taking \(\lambda = 0\) and \(\mu = 1\) gives a directional derivative of</p>\[M_\phi(\theta,\phi)p = (-x\cos\phi - y\sin\phi,x\sin\theta\sin\phi - y\sin\theta\cos\phi)\]<p>in the \((0,1)\) direction. A direct calculation gives that the curve in \(\mathbb R^2\) that \(\pi(p)\) traces for fixed latitude \(\theta\) is</p>\[\delta_p : \mathbb R \to \mathbb R^2, \quad \delta_p(t) = (-x\sin t + y\cos t,-x\sin\theta\cos t - y\sin\theta\sin t + z\cos\theta);\]<p>the above directional derivative is simply \(\dot\delta_p(\phi)\). By trigonometry, we know that letting \(T = t + \cos^{-1}(y/\sqrt{x^2 + y^2})\),</p>\[\delta_p(t) = (\sqrt{x^2 + y^2}\cos T,-\sin\theta\sqrt{x^2 + y^2}\sin T + z\cos\theta);\]<p>this is clearly an ellipse (with period \(2\pi\)) with axis lengths \(\sqrt{x^2 + y^2}\) and \(\lvert\sin\theta\rvert\sqrt{x^2 + y^2}\), oriented negatively (clockwise) whenever principal latitude is positive (and positively if principal latitude is negative). Additionally, it has 4 vertices by Example 6.3 of chapter 4 (as long as \(\lvert\sin\theta\rvert \neq 1\) and both axis lengths are nonzero); these vertices correspond to locations where the \(x\) or \(y\)-coordinate of \(\pi(p)\) is greatest or smallest. In summary, we see that for fixed latitude \(\theta\), projected points move in an elliptic shape (in a clockwise direction when viewed from with positive principal latitude); this agrees with the intuition that as we increase longitude \(\phi\), in order for the normal \(N\) to the plane of projection \(\Pi\) to point “into the screen”, points must rotate <em>clockwise</em> about the projected \(z\)-axis.</p><p>This concludes our analysis of the 2-dimensional visualisation of surfaces in \(\mathbb R^3\) on Desmos. We saw some commentary on the derivation of the projection, using some linear algebra. Then we proceeded to analyse how curves are represented in the plot, as a “wire-frame”, and finally, we analysed the effect of changing latitude and longitude on the positions of points in the plot, rounding off a treatment of the algebraic, analytic, and geometric properties of the visualisation.</p><h3 id="acknowledgements">Acknowledgements</h3><p>I would like to acknowledge Dan Mathews for giving useful feedback (especially with respect to interpreting the effect on changing perspective on the position of points) and verifying the procedure used to derive the projection matrix. Errors in my initial formula for the projection were also corrected through discussion and testing with various members of the <a href="http://discord.gg/invite/hx63ZwSXBg">Maths @ Monash Discord server</a>.</p><div class="footnotes" role="doc-endnotes"><ol><li id="fn:1" role="doc-endnote"><p>To switch modes, click on the “plot” folder to hide it, and click on the “parametric plot” folder to show that. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p><li id="fn:2" role="doc-endnote"><p>See Example 2.17 from MTH3110 chapter 5 notes. <a href="#fnref:2" class="reversefootnote" role="doc-backlink">&#8617;</a></p></ol></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/epic-maths-time/'>Epic Maths Time</a>, <a href='/categories/cool-stuff/'>Cool Stuff</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/differential-geometry/" class="post-tag no-text-decoration" >differential-geometry</a> <a href="/tags/linear-algebra/" class="post-tag no-text-decoration" >linear-algebra</a> <a href="/tags/uni-maths/" class="post-tag no-text-decoration" >uni-maths</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=An interactive visualisation of immersed surfaces on Desmos - Epic Maths Time&url=https://subjunctivequaver.github.io//posts/desmos-3d-plotter/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=An interactive visualisation of immersed surfaces on Desmos - Epic Maths Time&u=https://subjunctivequaver.github.io//posts/desmos-3d-plotter/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=An interactive visualisation of immersed surfaces on Desmos - Epic Maths Time&url=https://subjunctivequaver.github.io//posts/desmos-3d-plotter/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/honours-thesis/">My honours thesis — minimum bases for permutation groups</a><li><a href="/posts/generatingfunctionological-proof-geometric-arithmetic-sequences/">A generatingfunctionological proof of the geometric and arithmetic sequence formulas</a><li><a href="/posts/generatingfunctionological-proof-binomial-theorem/">A generatingfunctionological proof of the binomial theorem</a><li><a href="/posts/integrating-rational-functions/">Integrating rational functions, partial fractions, and a taste of algebra, part 1</a><li><a href="/posts/measure-theory-in-probability/">Why probability and statistics need measure theory, part 1</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/uni-maths/">uni-maths</a> <a class="post-tag" href="/tags/algebra/">algebra</a> <a class="post-tag" href="/tags/calculus/">calculus</a> <a class="post-tag" href="/tags/combinatorics/">combinatorics</a> <a class="post-tag" href="/tags/measure-theory/">measure-theory</a> <a class="post-tag" href="/tags/polynomials/">polynomials</a> <a class="post-tag" href="/tags/probability/">probability</a> <a class="post-tag" href="/tags/rings/">rings</a> <a class="post-tag" href="/tags/statistics/">statistics</a> <a class="post-tag" href="/tags/topology/">topology</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/integrating-rational-functions/"><div class="card-body"> <span class="timeago small" >Jun 29, 2021<i class="unloaded">2021-06-29T15:42:00+10:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Integrating rational functions, partial fractions, and a taste of algebra, part 1</h3><div class="text-muted small"><p> You know how to integrate a polynomial: \[\int (a_0 + a_1x + \dotsb + a_nx^n) \,dx = C + a_0x + \frac{a_1}{2}x^2 + \dotsb + \frac{a_n}{n + 1}x^{n + 1},\] where \(C \in \mathbb R\) is a real const...</p></div></div></a></div><div class="card"> <a href="/posts/integrating-rational-functions-2/"><div class="card-body"> <span class="timeago small" >Jun 29, 2021<i class="unloaded">2021-06-29T15:42:00+10:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Integrating rational functions, partial fractions, and a taste of algebra, part 2</h3><div class="text-muted small"><p> Make sure you read part 1 first! Recall that we were exploring integrating rational functions, and to do so, we needed to look at partial fraction decompositions. As we now begin to discuss that in...</p></div></div></a></div><div class="card"> <a href="/posts/honours-thesis/"><div class="card-body"> <span class="timeago small" >Dec 14, 2022<i class="unloaded">2022-12-14T23:50:00+11:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>My honours thesis — minimum bases for permutation groups</h3><div class="text-muted small"><p> I’m really excited to share my completed honours thesis! I’m honoured that my supervisors (and apparently the examiners too haha) were pleased with the result, and I’m humbled that my effort this y...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/measure-theory-in-probability-2/" class="btn btn-outline-primary" prompt="Older"><p>Why probability and statistics need measure theory, part 2</p></a> <a href="/posts/integrating-rational-functions/" class="btn btn-outline-primary" prompt="Newer"><p>Integrating rational functions, partial fractions, and a taste of algebra, part 1</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/SubjunctiveQuav">Lawrence Chen</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/uni-maths/">uni maths</a> <a class="post-tag" href="/tags/algebra/">algebra</a> <a class="post-tag" href="/tags/calculus/">calculus</a> <a class="post-tag" href="/tags/combinatorics/">combinatorics</a> <a class="post-tag" href="/tags/measure-theory/">measure theory</a> <a class="post-tag" href="/tags/polynomials/">polynomials</a> <a class="post-tag" href="/tags/probability/">probability</a> <a class="post-tag" href="/tags/rings/">rings</a> <a class="post-tag" href="/tags/statistics/">statistics</a> <a class="post-tag" href="/tags/topology/">topology</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
